<select
    class="field-type form-control"
    data-do="field-type"
    data-on="change"
    name="fields[{{@index}}][field][type]"
>
    {{> options_type}}
</select>

{{#if field.options}}
    <div class="input-keyval">
        {{#each field.options}}
            <div class="keyval-row" data-index="{{@index}}">
                <div class="col-auto p-0">
                    <input
                        class="form-control keyval-key"
                        name="fields[{{../@index}}][field][options][{{@index}}][key]"
                        placeholder="{{_ 'Key'}}"
                        type="text"
                        value="{{./key}}"
                    />
                </div>
                <div class="col-auto p-0">
                    <input
                        class="form-control keyval-value"
                        name="fields[{{../@index}}][field][options][{{@index}}][value]"
                        placeholder="{{_ 'Value'}}"
                        type="text"
                        value="{{value}}"
                    />
                </div>
                <div class="col-auto p-0">
                    <div class="btn-group" role="group">
                        <a
                            class="btn btn-success"
                            data-do="option-move-up"
                            data-on="click"
                            data-level="1"
                            href="javascript:void(0)"
                        >
                            <i class="fas fa-arrow-up fa-fw"></i>
                        </a>
                        <a
                            class="btn btn-info"
                            data-do="option-move-down"
                            data-on="click"
                            data-level="1"
                            href="javascript:void(0)"
                        >
                            <i class="fas fa-arrow-down fa-fw"></i>
                        </a>
                        <a
                            class="btn btn-danger"
                            data-do="remove"
                            data-on="click"
                            data-level="3"
                            href="javascript:void(0)"
                        >
                            <i class="fas fa-times"></i>
                        </a>
                    </div>
                </div>
            </div>
        {{/each}}
        <button
            data-do="keyval-add"
            data-name="fields[{{@index}}][field][options][{INDEX}]"
            data-on="click"
            class="keyval-add btn btn-info"
            type="button"
        >
            {{_ 'Add Option'}}
        </button>
    </div>
{{/if}}

{{#if field.attributes}}
    <div class="input-attributes">
        {{#each field.attributes}}
            <div
                class="attribute-row mt-2"
                data-do="attribute-field"
                data-name="fields[{{../@index}}][field][attributes][{INDEX}]"
            >
                <div class="col-auto p-0">
                    <input
                        class="form-control attribute-key"
                        placeholder="{{_ 'Attribute'}}"
                        type="text"
                        value="{{@key}}"
                    />
                </div>
                <div class="col-auto p-0">
                    <input
                        class="form-control attribute-value"
                        name="fields[{{../@index}}][field][attributes][{{@key}}]"
                        placeholder="{{_ 'Value'}}"
                        type="text"
                        value="{{this}}"
                    />
                </div>
                <div class="col-auto p-0">
                    <div class="btn-group" role="group">
                        <a
                            class="btn btn-danger"
                            data-do="remove"
                            data-on="click"
                            data-level="3"
                            href="javascript:void(0)"
                        >
                            <i class="fas fa-times"></i>
                        </a>
                    </div>
                </div>
            </div>
        {{/each}}
        <button
            data-do="attribute-add"
            data-name="fields[{{@index}}][field][attributes][{INDEX}]"
            data-on="click"
            class="attribute-add btn btn-info"
            type="button"
        >
            {{_ 'Add Attribute'}}
        </button>
    </div>
{{/if}}
