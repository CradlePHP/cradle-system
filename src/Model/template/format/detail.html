{{#when config.format '===' 'none'}}
    {{#is_array this}}
        {{_ 'Array'}}
    {{else}}
        {{~this~}}
    {{/is_array}}
{{/when}}
{{#when config.format '===' 'lower'}}
    {{lower this}}
{{/when}}
{{#when config.format '===' 'upper'}}
    {{upper this}}
{{/when}}
{{#when config.format '===' 'capital'}}
    {{capital this}}
{{/when}}
{{#when config.format '===' 'length'}}
    {{chars this config.parameters}}
{{/when}}
{{#when config.format '===' 'words'}}
    {{words this config.parameters}}
{{/when}}
{{#when config.format '===' 'html'}}
    {{{this}}}
{{/when}}
{{#when config.format '===' 'markdown'}}
    {{{markdown this}}}
{{/when}}
{{#when config.format '===' 'number'}}
    {{number this}}
{{/when}}
{{#when config.format '===' 'price'}}
    {{price this}}
{{/when}}
{{#when config.format '===' 'yes'}}
    {{#if this}}Yes{{else}}No{{/if}}
{{/when}}
{{#when config.format '===' 'stars'}}
    <span class="rating text-yellow">
        {{#when this '==' 0.5}}
            <i class="fas fa-star-half"></i>
        {{/when}}
        {{#when this '==' 1}}
            <i class="fas fa-star"></i>
        {{/when}}
        {{#when this '==' 1.5}}
            <i class="fas fa-star"></i>
            <i class="fas fa-star-half"></i>
        {{/when}}
        {{#when this '==' 2}}
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
        {{/when}}
        {{#when this '==' 2.5}}
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star-half"></i>
        {{/when}}
        {{#when this '==' 3}}
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
        {{/when}}
        {{#when this '==' 3.5}}
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star-half"></i>
        {{/when}}
        {{#when this '==' 4}}
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
        {{/when}}
        {{#when this '==' 4.5}}
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star-half"></i>
        {{/when}}
        {{#when this '>=' 5}}
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
        {{/when}}
    </span>
{{/when}}
{{#when config.format '===' 'date'}}
    {{#if this}}
        {{date this config.parameters}}
    {{else}}
        &nbsp;
    {{/if}}
{{/when}}
{{#when config.format '===' 'relative'}}
    {{#if this}}
        {{relative this config.parameters}}
    {{else}}
        &nbsp;
    {{/if}}
{{/when}}
{{#when config.format '===' 'strip'}}
    {{{strip this config.parameters}}}
{{/when}}
{{#when config.format '===' 'link'}}
    <a href="{{compile config.parameters.0 row}}">{{compile config.parameters.1 row}}</a>
{{/when}}
{{#when config.format '===' 'image'}}
    <img src="{{this}}" width="{{config.parameters.0}}" height="{{config.parameters.1}}" />
{{/when}}
{{#when config.format '===' 'email'}}
    <a href="mailto:{{this}}">{{compile config.parameters row}}</a>
{{/when}}
{{#when config.format '===' 'phone'}}
    <a href="tel:{{this}}">{{compile config.parameters row}}</a>
{{/when}}
{{#when config.format '===' 'custom'}}
    {{{compile config.parameters row}}}
{{/when}}
{{#when config.format '===' 'comma'}}
    {{join this ','}}
{{/when}}
{{#when config.format '===' 'space'}}
    {{join this ' '}}
{{/when}}
{{#when config.format '===' 'nl'}}
    {{#each this}}
        {{this}}
        {{#unless @last}}<br />{{/unless}}
    {{/each}}
{{/when}}
{{#when config.format '===' 'ul'}}
    <ul>
        {{#each this}}
            <li>{{this}}</li>
        {{/each}}
    </ul>
{{/when}}
{{#when config.format '===' 'ol'}}
    <ol>
        {{#each this}}
            <li>{{this}}</li>
        {{/each}}
    </ol>
{{/when}}
{{#when config.format '===' 'meta'}}
    <ul class="meta-list">
        {{#each this}}
            <li>
                <span class="key">{{@key}}</span> :
                <span class="this">{{this}}</span>
            </li>
        {{/each}}
    </ul>
{{/when}}
{{#when config.format '===' 'tag'}}
    {{#each this}}
        <div class="badge badge-orange">{{this}}</div>
    {{/each}}
{{/when}}
{{#when config.format '===' 'table'}}
    {{#if this.length}}
        <table class="table table-striped table-bordered m-0">
            {{#if field.columns.length}}
                <thead>
                    <tr>
                        {{#each field.columns}}
                            <th>{{this}}</th>
                        {{/each}}
                    </tr>
                </thead>
            {{/if}}
            <tbody>
                {{#each this}}
                    <tr>
                        {{#each this}}
                            <td>{{{this}}}</td>
                        {{/each}}
                    </tr>
                {{/each}}
            </tbody>
        </table>
    {{else}}
        <div class="alert alert-info">{{_ 'Empty'}}</div>
    {{/if}}
{{/when}}
{{#when config.format '===' 'jsonpretty'}}
    {{{json_pretty this}}}
{{/when}}
{{#when config.format '===' 'formula'}}
    {{formula config.parameters row}}
{{/when}}
